@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;
@use '../abstracts/functions' as *;
@use '../components/button';

.hero {
	@include container;
	padding-block: rem(32);
}

.hero-layout {
	display: grid;
	grid-template-areas:
		"title"
		"image"
		"copy";
	row-gap: rem(16);
}

.hero__title {
	grid-area: title;
	color: $color-primary;
}

.hero__image {
	grid-area: image;

	img {
		display: block;
		width: 100%;
		height: auto;
	}
}

.hero__copy {
	grid-area: copy;

	p {
		margin-top: rem(12);
	}

	p + p {
		margin-top: rem(8);
	}
}

.hero-cta {
    @extend .btn--primary;
    
    margin-top: rem(24);
    display: inline-flex; 
    
    @media (min-width: $bp-lg) {
        font-size: rem(20);
        padding: rem(14) rem(36);
    }
}

.how-it-works {
	@include container;
	padding-block: rem(32) rem(40);
}

.how-it-works h2 {
	text-align: center;
	margin-bottom: rem(24);
}

.steps {
	display: flex;
	flex-direction: column;
	gap: rem(16);
}

.step {
	background-color: $color-secondary;
	border-radius: $radius-lg;
	padding: rem(20) rem(22);
	box-shadow: $shadow-soft;
	text-align: center;
}

.step h3 {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: rem(8);
	margin-bottom: rem(8);
}

.step h3 span {
	width: rem(26);
	height: rem(26);
	border-radius: 50%;
	background-color: $color-primary;
	color: $color-text-light;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	font-size: rem(16);
}


@media (min-width: $bp-md) {
	.hero {
		padding-block: rem(40);
	}

	.hero-layout {
		display: grid;
		grid-template-columns: minmax(0, rem(440)) minmax(0, 1fr);
		column-gap: rem(40);
		grid-template-areas:
			"title title"
			"copy  image";
		align-items: center;
	}

	.hero__title {
		grid-area: title;
		max-width: rem(960);
	}

	.hero__copy {
		grid-area: copy;
		max-width: rem(440); 
	}

	.hero__image {
		grid-area: image;
		justify-self: center;
		max-width: rem(620);

		img {
			width: 100%;
			height: auto;
			display: block;
		}
	}

	.how-it-works h2 {
		margin-bottom: rem(28);
	}

	.steps {
		@include row;
        
        gap: 0; 
        row-gap: 0; 
        
        margin-bottom: rem(-24);
	}

	.step {
       margin-bottom: rem(24);
    }
}

@media (min-width: $bp-lg) {

    .hero-layout {
        display: grid;
        grid-template-columns: rem(450) 1fr;
        
        grid-template-rows: min-content min-content; 
        
        align-items: start; 
        position: relative;
        isolation: isolate; 
    }

    .hero__title {
        grid-column: 1 / 2;
        grid-row: 1 / 2;
        
        width: rem(643);
        max-width: none; 
        
        margin-bottom: rem(24); 
        
        z-index: 2; 
        position: relative;

        pointer-events: none; 
    }
    
    .hero__title span, .hero__title strong { pointer-events: auto; }


    .hero__image {
        grid-column: 2 / 3;
        grid-row: 1 / -1; 
        
        width: rem(850); 
        max-width: none;
        
        z-index: 1; 
        position: relative;

        transform: translate(rem(-150), 0);
        
        margin-left: 0;

        img {
            display: block;
            width: 100%;
            height: auto;
        }
    }

    .hero__copy {
        grid-column: 1 / 2;
        grid-row: 2 / 3; 
        position: relative;
        z-index: 2;
    }
}

.how-it-works {
    @include container;
    padding-block: rem(32) rem(40);
}

.how-it-works h2 {
    text-align: center;
    margin-bottom: rem(24);
    @media (min-width: $bp-md) { margin-bottom: rem(28); }
}

.steps {
    @include row; 
    
    row-gap: rem(24); 
}

.step {
    @include col(12);

    @include col(4, $bp-md);

    background-color: $color-secondary;
    border-radius: $radius-lg;
    padding: rem(20) rem(22);
    box-shadow: $shadow-soft;
    text-align: center;
}

.step h3 {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: rem(8);
    margin-bottom: rem(8);
}

.step h3 span {
    width: rem(26);
    height: rem(26);
    border-radius: 50%;
    background-color: $color-primary;
    color: $color-text-light;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: rem(16);
}

